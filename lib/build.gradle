plugins {
  id 'java-library'
  id 'jacoco'
}

repositories {
  mavenCentral()
  maven {
    url 'https://hub.spigotmc.org/nexus/content/repositories/public/'
  }
  maven {
    url 'http://repo.mikeprimm.com/'
    allowInsecureProtocol = true
  }
}

dependencies {
  implementation 'org.spigotmc:spigot-api:1.18-R0.1-SNAPSHOT'
  implementation 'us.dynmap:dynmap-api:3.2-SNAPSHOT'

  testImplementation 'org.junit.jupiter:junit-jupiter:5.8.2'
  testImplementation 'org.mockito:mockito-core:4.1.0'
  testImplementation 'org.mockito:mockito-junit-jupiter:4.1.0'
}

tasks.named('test') {
  useJUnitPlatform()
}

test {
  finalizedBy jacocoTestReport
}
